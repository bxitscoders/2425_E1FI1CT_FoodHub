<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Foodhub - Burger Clicker üí∞</title>
<style>
* { box-sizing: border-box; }
body { margin: 0; background-color: #181818; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow-x: hidden; }
header { background-color: #000; display: flex; justify-content: space-between; align-items: center; padding: 14px 40px; box-shadow: 0 2px 8px rgba(255, 144, 0, 0.3); position: sticky; top: 0; z-index: 100; }
.logo { font-size: 28px; font-weight: bold; cursor: default; }
.logo .food { color: #fff; }
.logo .hub { color: #ff9000; }
nav a { margin-left: 32px; font-weight: 600; font-size: 16px; color: #ddd; text-decoration: none; transition: color 0.3s ease; }
nav a:hover { color: #ff9000; }
#newsTicker { background: #000; color: #ff9000; padding: 8px 20px; text-align: center; font-size: 14px; border-bottom: 1px solid #ff9000; overflow: hidden; white-space: nowrap; }
.game-layout { display: grid; grid-template-columns: 1fr 450px; gap: 20px; max-width: 1600px; margin: 20px auto; padding: 0 20px; }
.left-panel { display: flex; flex-direction: column; gap: 20px; }
.clicker-area { background-color: #222; border-radius: 15px; padding: 40px; text-align: center; position: relative; }
.money-counter { font-size: 56px; font-weight: bold; color: #ff9000; margin-bottom: 5px; text-shadow: 0 0 20px rgba(255, 144, 0, 0.5); }
.income-display { color: #aaa; font-size: 20px; margin-bottom: 30px; }
.prestige-badge { position: absolute; top: 10px; right: 10px; background: linear-gradient(135deg, gold, orange); color: #000; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 14px; box-shadow: 0 0 15px gold; }
.burger-btn { width: 280px; height: 280px; font-size: 160px; background: radial-gradient(circle, #ff9000, #e07e00); border: 8px solid #ff9000; border-radius: 50%; cursor: pointer; transition: transform 0.1s ease; margin: 0 auto; display: flex; align-items: center; justify-content: center; user-select: none; box-shadow: 0 10px 40px rgba(255, 144, 0, 0.6); }
.burger-btn:hover { transform: scale(1.08); box-shadow: 0 15px 50px rgba(255, 144, 0, 0.8); }
.burger-btn:active { transform: scale(0.92); }
.click-info { margin-top: 20px; color: #aaa; font-size: 16px; }
.click-value { color: #ff9000; font-weight: bold; font-size: 20px; }
.upgrades-list { background-color: #222; border-radius: 15px; padding: 25px; max-height: 600px; overflow-y: auto; }
.upgrades-list h3 { margin-top: 0; color: #ff9000; font-size: 24px; margin-bottom: 20px; }
.upgrade-item { background-color: #2a2a2a; border-radius: 10px; padding: 18px; margin-bottom: 12px; display: flex; align-items: center; cursor: pointer; transition: all 0.3s ease; border: 2px solid #333; }
.upgrade-item:hover:not(.disabled) { border-color: #ff9000; transform: translateX(8px); background-color: #333; }
.upgrade-item.disabled { opacity: 0.4; cursor: not-allowed; }
.upgrade-icon { font-size: 45px; margin-right: 18px; min-width: 50px; }
.upgrade-info { flex: 1; }
.upgrade-name { font-weight: bold; font-size: 18px; margin-bottom: 4px; }
.upgrade-stats { font-size: 13px; color: #aaa; }
.upgrade-cost { background-color: #ff9000; color: #000; padding: 10px 18px; border-radius: 25px; font-weight: bold; font-size: 15px; white-space: nowrap; }
.right-panel { display: flex; flex-direction: column; gap: 20px; }
.distribution-panel { background-color: #222; border-radius: 15px; padding: 25px; max-height: 85vh; overflow-y: auto; }
.distribution-panel h2 { margin-top: 0; color: #ff9000; font-size: 26px; text-align: center; margin-bottom: 25px; }
.total-earned { background: linear-gradient(135deg, #ff9000, #e07e00); border-radius: 12px; padding: 20px; text-align: center; margin-bottom: 25px; box-shadow: 0 4px 15px rgba(255, 144, 0, 0.4); }
.total-earned-label { color: #000; font-size: 14px; font-weight: 600; margin-bottom: 5px; }
.total-earned-amount { color: #000; font-size: 36px; font-weight: bold; }
.contributor { background-color: #2a2a2a; border-radius: 12px; padding: 20px; margin-bottom: 18px; border-left: 5px solid #ff9000; transition: all 0.3s ease; }
.contributor:hover { transform: translateX(5px); box-shadow: 0 4px 15px rgba(255, 144, 0, 0.3); }
.contributor.ceo { border-left-color: #ffd700; background: linear-gradient(135deg, #2a2a2a, #3a3a2a); }
.contributor.co-ceo { border-left-color: #c0c0c0; }
.contributor.bettler { border-left-color: #cd7f32; opacity: 0.9; }
.contributor-header { display: flex; align-items: center; margin-bottom: 12px; }
.contributor-icon { font-size: 40px; margin-right: 15px; }
.contributor-name { font-weight: bold; font-size: 18px; }
.contributor-role { font-size: 13px; color: #888; margin-top: 2px; }
.money-earned { font-size: 28px; font-weight: bold; color: #ff9000; margin: 12px 0; }
.percentage-bar { background-color: #333; height: 10px; border-radius: 10px; overflow: hidden; margin-top: 10px; }
.percentage-fill { background: linear-gradient(90deg, #ff9000, #ffb347); height: 100%; transition: width 0.5s ease; }
.percentage-text { font-size: 13px; color: #aaa; margin-top: 8px; }
.click-effect { position: fixed; font-size: 28px; font-weight: bold; color: #ff9000; pointer-events: none; animation: floatUp 1.2s ease-out forwards; z-index: 1000; text-shadow: 0 0 10px rgba(255, 144, 0, 0.8); }
@keyframes floatUp { to { transform: translateY(-120px); opacity: 0; } }
.stats-box { background-color: #222; border-radius: 15px; padding: 20px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
.stat-item { text-align: center; }
.stat-label { font-size: 12px; color: #888; text-transform: uppercase; margin-bottom: 5px; }
.stat-value { font-size: 22px; font-weight: bold; color: #ff9000; }
.reset-btn, .prestige-btn { background-color: #ff3333; border: none; color: #fff; padding: 12px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 15px; transition: all 0.3s ease; width: 100%; }
.prestige-btn { background: linear-gradient(135deg, gold, orange); color: #000; }
.prestige-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px gold; }
.prestige-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.reset-btn:hover { background-color: #cc0000; transform: scale(1.05); }
.achievement-popup { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: #ffd700; color: #222; border-radius: 12px; font-weight: bold; font-size: 22px; padding: 18px 32px; box-shadow: 0 8px 32px rgba(255,144,0,0.5); z-index: 2000; animation: fadeInUp 0.6s; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
.achiev-modal, .stats-modal, .prestige-modal { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); justify-content: center; align-items: center; z-index: 9999; }
.achiev-inner, .stats-inner, .prestige-inner { background: #222; padding: 35px; border-radius: 20px; max-width: 500px; box-shadow: 0 0 40px rgba(255,144,0,0.7); max-height: 80vh; overflow-y: auto; }
.prestige-inner { background: linear-gradient(135deg, #2a2a2a, #1a1a1a); border: 3px solid gold; }
.achiev-list { list-style: none; padding: 0; margin: 0 0 12px 0; max-height: 300px; overflow-y: auto; }
.achiev-list li { background: #2a2a2a; margin-bottom: 10px; padding: 12px 15px; border-radius: 12px; font-size: 16px; }
.achiev-list li.complete { color: #d7ff97; border: 2px solid #b1ff4c; }
.achiev-list li.incomplete { color: #888; }
.achiev-close, .stats-close, .prestige-close { margin-top: 14px; width: 100%; background: #ff3333; border: none; color: #fff; padding: 11px; font-weight: bold; border-radius: 9px; cursor: pointer; }
.achiev-close:hover, .stats-close:hover, .prestige-close:hover { background: #cc0000; }
#goldenBurger { display: none; position: fixed; top: 100px; right: 50px; font-size: 80px; cursor: pointer; z-index: 1500; animation: goldenGlow 1s infinite alternate; }
@keyframes goldenGlow { 0% { filter: drop-shadow(0 0 10px gold); } 100% { filter: drop-shadow(0 0 30px orange); } }
.wrinkler { position: absolute; width: 50px; height: 50px; font-size: 40px; cursor: pointer; z-index: 100; animation: wiggle 2s infinite; }
@keyframes wiggle { 0%, 100% { transform: rotate(-5deg); } 50% { transform: rotate(5deg); } }
#soundToggle { position: fixed; bottom: 20px; right: 20px; background: #ff9000; color: #000; border: none; padding: 12px 18px; border-radius: 25px; cursor: pointer; font-weight: bold; z-index: 3000; }
@media (max-width: 1200px) { .game-layout { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<header>
<div class="logo"><span class="food">Food</span><span class="hub">hub</span></div>
<nav>
<a href="Foodhub2.html">Startseite</a>
<a href="Rangliste.html">Top Gerichte</a>
<a href="Kategorien.html">Kategorien</a>
<a href="Upload.html">Bewerten</a>
</nav>
</header>

<div id="newsTicker">üçî Willkommen beim Burger Clicker! Klicke auf den Burger um zu starten...</div>
<div id="goldenBurger">üçî</div>
<button id="soundToggle">üîä Sound An</button>

<div class="game-layout">
<div class="left-panel">
<div class="clicker-area" id="clickerArea">
<div id="prestigeBadge" class="prestige-badge" style="display:none;">‚≠ê Prestige: 0</div>
<div class="money-counter" id="money">0 ‚Ç¨</div>
<div class="income-display" id="income">+0 ‚Ç¨/Sek</div>
<button class="burger-btn" id="burgerBtn">üçî</button>
<div class="click-info">Klick-Wert: <span class="click-value" id="clickValue">1 ‚Ç¨</span></div>
</div>

<div class="stats-box">
<div class="stat-item"><div class="stat-label">Gesamt-Klicks</div><div class="stat-value" id="totalClicks">0</div></div>
<div class="stat-item"><div class="stat-label">Upgrades</div><div class="stat-value" id="totalUpgrades">0</div></div>
<div class="stat-item"><div class="stat-label">‚Ç¨ pro Klick</div><div class="stat-value" id="perClick">1</div></div>
<div class="stat-item"><div class="stat-label">‚Ç¨ pro Sekunde</div><div class="stat-value" id="perSecond">0</div></div>
</div>

<div style="display:flex;gap:10px;">
<button onclick="showAchievementsModal()" style="flex:1;background:#ffb347;color:#222;border:none;padding:13px;font-size:17px;font-weight:bold;border-radius:10px;cursor:pointer;">üèÜ Achievements</button>
<button onclick="showStatsModal()" style="flex:1;background:#4a9eff;color:#fff;border:none;padding:13px;font-size:17px;font-weight:bold;border-radius:10px;cursor:pointer;">üìä Statistik</button>
</div>

<div class="upgrades-list">
<h3>üõí Upgrades kaufen</h3>
<div id="upgradesContainer"></div>
</div>
</div>

<div class="right-panel">
<div class="distribution-panel">
<h2>üí∞ Geldverteilung</h2>
<div class="total-earned">
<div class="total-earned-label">GESAMTUMSATZ</div>
<div class="total-earned-amount" id="totalEarnedDisplay">0 ‚Ç¨</div>
</div>
<div id="distributionContainer"></div>
<button class="prestige-btn" id="prestigeBtn" onclick="showPrestigeModal()">‚≠ê PRESTIGE (Ben√∂tigt 1M ‚Ç¨)</button>
<button class="reset-btn" onclick="resetGame()">üîÑ Spiel zur√ºcksetzen</button>
</div>
</div>
</div>

<div class="achiev-modal" id="achievModal">
<div class="achiev-inner">
<h2 style="color:#ff9000;text-align:center;">üèÜ Achievements</h2>
<ul class="achiev-list" id="achievList"></ul>
<button class="achiev-close" onclick="hideAchievementsModal()">Schlie√üen</button>
</div>
</div>

<div class="stats-modal" id="statsModal">
<div class="stats-inner">
<h2 style="color:#ff9000;text-align:center;">üìä Statistiken</h2>
<div style="color:#fff;line-height:2;">
<p><strong>Spielzeit:</strong> <span id="playTime">0:00:00</span></p>
<p><strong>Gesamt-Klicks:</strong> <span id="statsClicks">0</span></p>
<p><strong>Burger-Wert:</strong> <span id="statsBurgerValue">1 ‚Ç¨</span></p>
<p><strong>Pro Sekunde:</strong> <span id="statsPerSec">0 ‚Ç¨</span></p>
<p><strong>Prestige Level:</strong> <span id="statsPrestige">0</span></p>
<p><strong>Prestige Bonus:</strong> <span id="statsPrestigeBonus">+0%</span></p>
<p><strong>Achievements:</strong> <span id="statsAchiev">0/0</span></p>
<p><strong>Wrinklers geplatzt:</strong> <span id="statsWrinklers">0</span></p>
</div>
<button class="stats-close" onclick="hideStatsModal()">Schlie√üen</button>
</div>
</div>

<div class="prestige-modal" id="prestigeModal">
<div class="prestige-inner">
<h2 style="color:gold;text-align:center;">‚≠ê PRESTIGE AUFSTIEG ‚≠ê</h2>
<div style="color:#fff;text-align:center;line-height:2;padding:20px;">
<p style="font-size:18px;"><strong>Du erh√§ltst:</strong></p>
<p style="font-size:32px;color:gold;font-weight:bold;" id="prestigePoints">0 Prestige-Punkte</p>
<p style="color:#aaa;">Jeder Prestige-Punkt gibt <strong>+5%</strong> auf alle Einnahmen!</p>
<p style="margin-top:20px;color:#ff6666;"><strong>‚ö†Ô∏è Du verlierst:</strong></p>
<p>‚Ä¢ Alle Upgrades<br>‚Ä¢ Alles Geld<br>‚Ä¢ Alle Klicks</p>
<p style="margin-top:20px;color:#66ff66;"><strong>‚úì Du beh√§ltst:</strong></p>
<p>‚Ä¢ Achievements<br>‚Ä¢ Prestige-Punkte (permanenter Bonus!)</p>
</div>
<button onclick="doPrestige()" style="width:100%;background:linear-gradient(135deg,gold,orange);color:#000;border:none;padding:15px;font-weight:bold;border-radius:10px;font-size:18px;cursor:pointer;margin-bottom:10px;">‚≠ê AUFSTEIGEN</button>
<button class="prestige-close" onclick="hidePrestigeModal()">Abbrechen</button>
</div>
</div>

<script>
let money=0,clickValue=1,incomePerSecond=0,totalEarned=0,totalClicks=0,totalUpgradesBought=0;
let bonusActive=false,frenzyActive=false,soundEnabled=true,wrinklersPopped=0;
let startTime=Date.now(),offlineTime=0;
let prestigeLevel=0,prestigeBonus=1;

const sounds={
click:new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG'),
buy:new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG')
};
function playSound(s){if(soundEnabled&&sounds[s]){try{sounds[s].currentTime=0;sounds[s].play();}catch(e){}}}
document.getElementById('soundToggle').onclick=()=>{soundEnabled=!soundEnabled;document.getElementById('soundToggle').textContent=soundEnabled?'üîä Sound An':'üîá Sound Aus';};

const team=[{id:'janik',name:'Janik',icon:'üëë',role:'CEO & Gr√ºnder',share:0.5,class:'ceo'},{id:'niklas',name:'Niklas',icon:'‚≠ê',role:'Co-CEO',share:0.4,class:'co-ceo'},{id:'christian',name:'Christian',icon:'ü§≤',role:'Bettler',share:0.1,class:'bettler'}];
const upgrades=[
{id:'cursor',icon:'üëÜ',name:'Besserer Finger',baseIncome:0,clickBonus:1,baseCost:10,multiplier:1.15,owned:0},
{id:'cursor2',icon:'‚úåÔ∏è',name:'Zwei Finger',baseIncome:0,clickBonus:5,baseCost:100,multiplier:1.2,owned:0},
{id:'pet',icon:'üêï',name:'Hund',baseIncome:0,clickBonus:15,baseCost:500,multiplier:1.25,owned:0},
{id:'chef',icon:'üë®‚Äçüç≥',name:'Koch',baseIncome:1,clickBonus:0,baseCost:50,multiplier:1.15,owned:0},
{id:'waiter',icon:'üíÅ',name:'Kellner',baseIncome:8,clickBonus:0,baseCost:300,multiplier:1.18,owned:0},
{id:'oven',icon:'üî•',name:'Profi-Grill',baseIncome:40,clickBonus:0,baseCost:2000,multiplier:1.22,owned:0},
{id:'dishwasher',icon:'üçΩÔ∏è',name:'Sp√ºlmaschine',baseIncome:100,clickBonus:0,baseCost:8000,multiplier:1.24,owned:0},
{id:'foodtruck',icon:'üöö',name:'Food Truck',baseIncome:300,clickBonus:0,baseCost:30000,multiplier:1.26,owned:0},
{id:'restaurant',icon:'üè™',name:'Restaurant',baseIncome:1000,clickBonus:0,baseCost:100000,multiplier:1.28,owned:0},
{id:'chain',icon:'üè¢',name:'Restaurant-Kette',baseIncome:5000,clickBonus:0,baseCost:500000,multiplier:1.3,owned:0},
{id:'franchise',icon:'üåé',name:'Franchise',baseIncome:20000,clickBonus:0,baseCost:2000000,multiplier:1.32,owned:0},
{id:'ai',icon:'ü§ñ',name:'KI Koch',baseIncome:100000,clickBonus:0,baseCost:50000000,multiplier:1.35,owned:0},
{id:'space',icon:'üöÄ',name:'Space Burger',baseIncome:500000,clickBonus:0,baseCost:250000000,multiplier:1.4,owned:0},
{id:'nano',icon:'üß¨',name:'Nano-Tech',baseIncome:0,clickBonus:200000,baseCost:20000000,multiplier:1.45,owned:0}
];

const achievements=[
{id:'c10',label:'10 Klicks!',condition:()=>totalClicks>=10,shown:false},
{id:'c100',label:'100 Klicks!',condition:()=>totalClicks>=100,shown:false},
{id:'c1000',label:'1000 Klicks!',condition:()=>totalClicks>=1000,shown:false},
{id:'c10000',label:'10.000 Klicks!',condition:()=>totalClicks>=10000,shown:false},
{id:'b1k',label:'1.000 ‚Ç¨ verdient!',condition:()=>totalEarned>=1000,shown:false},
{id:'b10k',label:'10.000 ‚Ç¨ verdient!',condition:()=>totalEarned>=10000,shown:false},
{id:'b100k',label:'100.000 ‚Ç¨ verdient!',condition:()=>totalEarned>=100000,shown:false},
{id:'b1m',label:'1 Million ‚Ç¨ verdient!',condition:()=>totalEarned>=1000000,shown:false},
{id:'b1b',label:'1 Milliarde ‚Ç¨ verdient!',condition:()=>totalEarned>=1000000000,shown:false},
{id:'u5',label:'5 Upgrades gekauft!',condition:()=>totalUpgradesBought>=5,shown:false},
{id:'u10',label:'10 Upgrades gekauft!',condition:()=>totalUpgradesBought>=10,shown:false},
{id:'u25',label:'25 Upgrades gekauft!',condition:()=>totalUpgradesBought>=25,shown:false},
{id:'u50',label:'50 Upgrades gekauft!',condition:()=>totalUpgradesBought>=50,shown:false},
{id:'fr',label:'Franchise gekauft!',condition:()=>upgrades.find(u=>u.id==='franchise').owned>0,shown:false},
{id:'all',label:'Alle Upgrades gekauft!',condition:()=>upgrades.every(u=>u.owned>0),shown:false},
{id:'wrink',label:'Ersten Wrinkler geplatzt!',condition:()=>wrinklersPopped>=1,shown:false},
{id:'prest1',label:'Erstes Prestige erreicht!',condition:()=>prestigeLevel>=1,shown:false},
{id:'prest5',label:'5x Prestige erreicht!',condition:()=>prestigeLevel>=5,shown:false}
];

const newsMessages=['üçî Breaking: Lokaler Burger wird zum Million√§r!','üì∞ Burger-Industrie boomt wie nie zuvor!','üöÄ Wissenschaftler entwickeln Space-Burger!','ü§ñ KI √ºbernimmt Fast-Food-Branche!','üëë CEO verdient sich goldene Nase!','üí∞ Burger-Klicker bricht alle Rekorde!','üî• Neuer Grill stellt Weltrekord auf!','üåé Franchise expandiert weltweit!','üêï Hund wird bester Mitarbeiter des Monats!','‚úåÔ∏è Zwei-Finger-Technik revolutioniert Klick-Welt!','‚≠ê Prestige-System sorgt f√ºr Aufruhr!','üéØ Spieler knackt Milliardenmarke!'];

function updateNewsTicker(){document.getElementById('newsTicker').textContent=newsMessages[Math.floor(Math.random()*newsMessages.length)];}
setInterval(updateNewsTicker,15000);

function calculatePrestigePoints(){return Math.floor(Math.pow(totalEarned/1000000,0.5));}
function updatePrestigeDisplay(){const pts=prestigeLevel;if(pts>0){document.getElementById('prestigeBadge').style.display='block';document.getElementById('prestigeBadge').textContent=`‚≠ê Prestige: ${pts} (+${pts*5}%)`;}else{document.getElementById('prestigeBadge').style.display='none';}const canPrestige=totalEarned>=1000000;document.getElementById('prestigeBtn').disabled=!canPrestige;document.getElementById('prestigeBtn').textContent=canPrestige?`‚≠ê PRESTIGE (${calculatePrestigePoints()} Punkte)`:'‚≠ê PRESTIGE (Ben√∂tigt 1M ‚Ç¨)';}

function showPrestigeModal(){if(totalEarned<1000000){showAchievement('‚ö†Ô∏è Du ben√∂tigst mindestens 1 Million ‚Ç¨!');return;}document.getElementById('prestigePoints').textContent=calculatePrestigePoints()+' Prestige-Punkte';document.getElementById('prestigeModal').style.display='flex';}
function hidePrestigeModal(){document.getElementById('prestigeModal').style.display='none';}
function doPrestige(){const pts=calculatePrestigePoints();if(pts<=0){showAchievement('‚ö†Ô∏è Nicht genug f√ºr Prestige!');return;}prestigeLevel+=pts;prestigeBonus=1+(prestigeLevel*0.05);money=0;totalEarned=0;totalClicks=0;totalUpgradesBought=0;clickValue=1;incomePerSecond=0;upgrades.forEach(u=>u.owned=0);calculateIncome();renderUpgrades();updateDisplay();updateDistribution();updatePrestigeDisplay();hidePrestigeModal();showAchievement(`‚≠ê Prestige! +${pts} Punkte! Neuer Bonus: +${(prestigeBonus-1)*100}%`);checkAchievements();saveGame();}

function getCost(u){return Math.floor(u.baseCost*Math.pow(u.multiplier,u.owned));}

function calculateIncome(){
clickValue=1;
incomePerSecond=0;
upgrades.forEach(u=>{
clickValue+=u.clickBonus*u.owned;
incomePerSecond+=u.baseIncome*u.owned;
});
clickValue=Math.floor(clickValue*prestigeBonus);
incomePerSecond=Math.floor(incomePerSecond*prestigeBonus);
}

function buyUpgrade(id){const u=upgrades.find(x=>x.id===id);const c=getCost(u);if(money>=c){money-=c;u.owned++;totalUpgradesBought++;calculateIncome();updateDisplay();saveGame();checkAchievements();playSound('buy');}}

function handleClick(e){
money+=clickValue;
totalEarned+=clickValue;
totalClicks++;
checkAchievements();
playSound('click');
const ef=document.createElement('div');
ef.className='click-effect';
ef.textContent='+'+clickValue+'‚Ç¨';
ef.style.left=e.clientX+'px';
ef.style.top=e.clientY+'px';
document.body.appendChild(ef);
setTimeout(()=>ef.remove(),1200);
}

function formatNumber(n){if(n>=1e9)return(n/1e9).toFixed(2)+'B';if(n>=1e6)return(n/1e6).toFixed(2)+'M';if(n>=1e3)return(n/1e3).toFixed(1)+'K';return Math.floor(n).toLocaleString('de-DE');}
function formatTime(ms){const s=Math.floor(ms/1000);const h=Math.floor(s/3600);const m=Math.floor((s%3600)/60);const sec=s%60;return `${h}:${m.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;}
function updateDisplay(){document.getElementById('money').textContent=formatNumber(money)+' ‚Ç¨';document.getElementById('income').textContent='+'+formatNumber(incomePerSecond)+' ‚Ç¨/Sek';document.getElementById('clickValue').textContent=formatNumber(clickValue)+' ‚Ç¨';document.getElementById('totalClicks').textContent=totalClicks.toLocaleString('de-DE');document.getElementById('totalUpgrades').textContent=totalUpgradesBought;document.getElementById('perClick').textContent=formatNumber(clickValue);document.getElementById('perSecond').textContent=formatNumber(incomePerSecond);document.getElementById('totalEarnedDisplay').textContent=formatNumber(totalEarned)+' ‚Ç¨';updatePrestigeDisplay();}
function updateDistribution(){const c=document.getElementById('distributionContainer');c.innerHTML='';team.forEach(m=>{const e=totalEarned*m.share;const p=(m.share*100).toFixed(0);const d=document.createElement('div');d.className='contributor '+m.class;d.innerHTML=`<div class="contributor-header"><div class="contributor-icon">${m.icon}</div><div><div class="contributor-name">${m.name}</div><div class="contributor-role">${m.role}</div></div></div><div class="money-earned">${formatNumber(e)} ‚Ç¨</div><div class="percentage-bar"><div class="percentage-fill" style="width:${p}%"></div></div><div class="percentage-text">${p}% vom Gesamtumsatz</div>`;c.appendChild(d);});}
function renderUpgrades(){const c=document.getElementById('upgradesContainer');c.innerHTML='';upgrades.forEach(u=>{const cost=getCost(u);const ca=money>=cost;let et='';if(u.clickBonus>0&&u.owned>0)et=`+${formatNumber(u.clickBonus*u.owned*prestigeBonus)} ‚Ç¨/Klick`;else if(u.clickBonus>0)et=`+${formatNumber(u.clickBonus*prestigeBonus)} ‚Ç¨/Klick`;else if(u.owned>0)et=`+${formatNumber(u.baseIncome*u.owned*prestigeBonus)} ‚Ç¨/Sek`;else et=`+${formatNumber(u.baseIncome*prestigeBonus)} ‚Ç¨/Sek`;const d=document.createElement('div');d.className='upgrade-item'+(ca?'':' disabled');d.onclick=()=>ca&&buyUpgrade(u.id);d.innerHTML=`<div class="upgrade-icon">${u.icon}</div><div class="upgrade-info"><div class="upgrade-name">${u.name}</div><div class="upgrade-stats">${et} | Besitz: ${u.owned}</div></div><div class="upgrade-cost">${formatNumber(cost)} ‚Ç¨</div>`;c.appendChild(d);});}
function saveGame(){const s={money,totalEarned,totalClicks,totalUpgradesBought,wrinklersPopped,prestigeLevel,startTime,upgrades:upgrades.map(u=>({id:u.id,owned:u.owned})),achievements:achievements.map(a=>a.shown),lastSave:Date.now()};localStorage.setItem('burgerClickerSave',JSON.stringify(s));}
function loadGame(){const s=localStorage.getItem('burgerClickerSave');if(s){const d=JSON.parse(s);money=d.money||0;totalEarned=d.totalEarned||0;totalClicks=d.totalClicks||0;totalUpgradesBought=d.totalUpgradesBought||0;wrinklersPopped=d.wrinklersPopped||0;prestigeLevel=d.prestigeLevel||0;prestigeBonus=1+(prestigeLevel*0.05);startTime=d.startTime||Date.now();if(d.upgrades)d.upgrades.forEach(su=>{const u=upgrades.find(x=>x.id===su.id);if(u)u.owned=su.owned;});if(Array.isArray(d.achievements))d.achievements.forEach((v,i)=>{if(achievements[i])achievements[i].shown=v;});if(d.lastSave){offlineTime=Date.now()-d.lastSave;const offlineEarnings=Math.min(incomePerSecond*(offlineTime/1000),incomePerSecond*3600*24);if(offlineEarnings>0){money+=offlineEarnings;totalEarned+=offlineEarnings;showAchievement(`üí§ Offline-Einkommen: ${formatNumber(offlineEarnings)} ‚Ç¨`);}}calculateIncome();updateDisplay();updatePrestigeDisplay();}}
function resetGame(){if(confirm('M√∂chtest du wirklich alle Fortschritte zur√ºcksetzen?')){money=0;totalEarned=0;totalClicks=0;totalUpgradesBought=0;clickValue=1;incomePerSecond=0;wrinklersPopped=0;prestigeLevel=0;prestigeBonus=1;startTime=Date.now();upgrades.forEach(u=>u.owned=0);achievements.forEach(a=>a.shown=false);localStorage.removeItem('burgerClickerSave');calculateIncome();renderUpgrades();updateDisplay();updateDistribution();updatePrestigeDisplay();}}
function showAchievement(t){const e=document.createElement('div');e.className='achievement-popup';e.textContent=t;document.body.appendChild(e);setTimeout(()=>e.remove(),3800);}
function showAchievementsModal(){const m=document.getElementById('achievModal');const l=document.getElementById('achievList');l.innerHTML='';achievements.forEach(a=>{const li=document.createElement('li');li.textContent=a.label;li.className=a.shown?'complete':'incomplete';l.appendChild(li);});m.style.display='flex';}
function hideAchievementsModal(){document.getElementById('achievModal').style.display='none';}
function showStatsModal(){document.getElementById('playTime').textContent=formatTime(Date.now()-startTime);document.getElementById('statsClicks').textContent=totalClicks.toLocaleString('de-DE');document.getElementById('statsBurgerValue').textContent=formatNumber(clickValue)+' ‚Ç¨';document.getElementById('statsPerSec').textContent=formatNumber(incomePerSecond)+' ‚Ç¨';document.getElementById('statsPrestige').textContent=prestigeLevel;document.getElementById('statsPrestigeBonus').textContent='+'+(prestigeLevel*5)+'%';document.getElementById('statsAchiev').textContent=achievements.filter(a=>a.shown).length+'/'+achievements.length;document.getElementById('statsWrinklers').textContent=wrinklersPopped;document.getElementById('statsModal').style.display='flex';}
function hideStatsModal(){document.getElementById('statsModal').style.display='none';}
function checkAchievements(){achievements.forEach(a=>{if(a.condition()&&!a.shown){a.shown=true;showAchievement(a.label);}});}

function spawnGoldenBurger(){if(bonusActive)return;const g=document.getElementById('goldenBurger');g.style.display='block';setTimeout(()=>g.style.display='none',8000);}
document.getElementById('goldenBurger').onclick=function(){this.style.display='none';bonusActive=true;const oldInc=incomePerSecond,oldClick=clickValue;incomePerSecond*=7;clickValue*=7;showAchievement('üåü Golden Burger! x7 f√ºr 15 Sek!');setTimeout(()=>{incomePerSecond=oldInc;clickValue=oldClick;bonusActive=false;calculateIncome();updateDisplay();},15000);};
setInterval(spawnGoldenBurger,90000);

function activateFrenzy(){if(frenzyActive||bonusActive)return;if(Math.random()<0.15){frenzyActive=true;const oldInc=incomePerSecond,oldClick=clickValue;incomePerSecond*=3;clickValue*=3;showAchievement('üî• FRENZY MODE! x3 f√ºr 20 Sek!');setTimeout(()=>{incomePerSecond=oldInc;clickValue=oldClick;frenzyActive=false;calculateIncome();updateDisplay();},20000);}}
setInterval(activateFrenzy,120000);

function spawnWrinkler(){if(Math.random()<0.3&&document.querySelectorAll('.wrinkler').length<3){const w=document.createElement('div');w.className='wrinkler';w.textContent='üëæ';w.style.top=Math.random()*200+'px';w.style.left=Math.random()*200+'px';w.onclick=function(){this.remove();const bonus=incomePerSecond*10;money+=bonus;totalEarned+=bonus;wrinklersPopped++;showAchievement(`üëæ Wrinkler geplatzt! +${formatNumber(bonus)} ‚Ç¨`);checkAchievements();};document.getElementById('clickerArea').appendChild(w);}}
setInterval(spawnWrinkler,60000);

document.getElementById('burgerBtn').addEventListener('click',handleClick);
setInterval(()=>{const i=incomePerSecond/10;money+=i;totalEarned+=i;updateDisplay();},100);
let renderCounter=0;
setInterval(()=>{renderCounter++;if(renderCounter%5===0){updateDistribution();renderUpgrades();}},100);
setInterval(saveGame,5000);
window.addEventListener('load',()=>{loadGame();renderUpgrades();updateDistribution();});
calculateIncome();renderUpgrades();updateDisplay();updateDistribution();updatePrestigeDisplay();
</script>
</body>
</html>
